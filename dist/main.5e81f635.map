{"version":3,"sources":["main.js"],"names":["$siteList","$","$lastLi","find","x","localStorage","getItem","xObject","JSON","parse","hashMap","logo","url","removeX","replace","hashx","remove","forEach","node","index","$li","toUpperCase","insertBefore","on","window","open","e","console","log","stopPropagation","splice","prompt","indexOf","push","logoType","onbeforeunload","string","stringify","setItem","document","key","i","length","toLowerCase"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,IAAMA,YAAYC,EAAE,WAAF,CAAlB;AACA,IAAMC,UAAUF,UAAUG,IAAV,CAAe,SAAf,CAAhB;AACA,IAAMC,IAAIC,aAAaC,OAAb,CAAqB,GAArB,CAAV;AACA,IAAMC,UAAUC,KAAKC,KAAL,CAAWL,CAAX,CAAhB;AACA,IAAMM,UAAUH,WAAW,CACzB,EAAEI,MAAM,GAAR,EAAaC,KAAK,sBAAlB,EADyB,EAEzB,EAAED,MAAM,GAAR,EAAaC,KAAK,sBAAlB,EAFyB,CAA3B;AAIA,IAAMC,UAAU,SAAVA,OAAU,CAACD,GAAD,EAAS;AACvB,SAAOA,IACJE,OADI,CACI,UADJ,EACgB,EADhB,EAEJA,OAFI,CAEI,SAFJ,EAEe,EAFf,EAGJA,OAHI,CAGI,MAHJ,EAGY,EAHZ,EAIJA,OAJI,CAII,MAJJ,EAIY,EAJZ,CAAP;AAKD,CAND;AAOA,IAAMC,QAAQ,SAARA,KAAQ,GAAM;AAClBf,YAAUG,IAAV,CAAe,cAAf,EAA+Ba,MAA/B;AACAN,UAAQO,OAAR,CAAgB,UAACC,IAAD,EAAOC,KAAP,EAAiB;AAC/B,QAAMC,MAAMnB,qHAMIY,QAAQK,KAAKN,GAAb,EAAkB,CAAlB,EAAqBS,WAArB,EANJ,sEAQoBR,QAAQK,KAAKN,GAAb,CARpB,gQAgBVU,YAhBU,CAgBGpB,OAhBH,CAAZ;;AAkBAkB,QAAIG,EAAJ,CAAO,OAAP,EAAgB,YAAM;AACpBC,aAAOC,IAAP,CAAYP,KAAKN,GAAjB;AACD,KAFD;AAGAQ,QAAIG,EAAJ,CAAO,OAAP,EAAgB,QAAhB,EAA0B,UAACG,CAAD,EAAO;AAC/BC,cAAQC,GAAR,CAAY,YAAZ;AACAF,QAAEG,eAAF,GAF+B,CAEV;AACrBnB,cAAQoB,MAAR,CAAeX,KAAf,EAAsB,CAAtB;AACAJ;AACD,KALD;AAMD,GA5BD;AA6BD,CA/BD;;AAiCAA;;AAEAd,EAAE,YAAF,EAAgBsB,EAAhB,CAAmB,OAAnB,EAA4B,YAAM;AAChC,MAAIX,MAAMY,OAAOO,MAAP,CAAc,YAAd,CAAV;AACA,MAAInB,IAAIoB,OAAJ,CAAY,OAAZ,MAAyB,CAA7B,EAAgC;AAC9BpB,UAAM,aAAaA,GAAnB;AACD;AACDF,UAAQuB,IAAR,CAAa;AACXtB,UAAMC,IAAI,CAAJ,CADK;AAEXsB,cAAU,MAFC;AAGXtB,SAAKA;AAHM,GAAb;;AAMAG;AACD,CAZD;;AAcAS,OAAOW,cAAP,GAAwB,YAAM;AAC5B,MAAMC,SAAS5B,KAAK6B,SAAL,CAAe3B,OAAf,CAAf;AACAL,eAAaiC,OAAb,CAAqB,GAArB,EAA0BF,MAA1B;AACD,CAHD;;AAKAnC,EAAEsC,QAAF,EAAYhB,EAAZ,CAAe,UAAf,EAA2B,UAACG,CAAD,EAAO;AAAA,MACxBc,GADwB,GAChBd,CADgB,CACxBc,GADwB;;AAEhC,OAAK,IAAIC,IAAI,CAAb,EAAgBA,IAAI/B,QAAQgC,MAA5B,EAAoCD,GAApC,EAAyC;AACvCd,YAAQC,GAAR,CAAYf,QAAQH,QAAQ+B,CAAR,EAAW7B,GAAnB,EAAwB,CAAxB,CAAZ;AACA,QAAIC,QAAQH,QAAQ+B,CAAR,EAAW7B,GAAnB,EAAwB,CAAxB,EAA2B+B,WAA3B,OAA6CH,GAAjD,EAAsD;AACpDhB,aAAOC,IAAP,CAAYf,QAAQ+B,CAAR,EAAW7B,GAAvB;AACD;AACF;AACF,CARD","file":"main.5e81f635.map","sourceRoot":"..\\src","sourcesContent":["const $siteList = $(\".siteList\");\r\nconst $lastLi = $siteList.find(\"li.last\");\r\nconst x = localStorage.getItem(\"x\");\r\nconst xObject = JSON.parse(x);\r\nconst hashMap = xObject || [\r\n  { logo: \"A\", url: \"https://www.acfun.cn\" },\r\n  { logo: \"B\", url: \"https://bilibili.com\" },\r\n];\r\nconst removeX = (url) => {\r\n  return url\r\n    .replace(\"https://\", \"\")\r\n    .replace(\"http://\", \"\")\r\n    .replace(\"www.\", \"\")\r\n    .replace(/\\/.*/, \"\");\r\n};\r\nconst hashx = () => {\r\n  $siteList.find(\"li:not(.last\").remove();\r\n  hashMap.forEach((node, index) => {\r\n    const $li = $(\r\n      `<li>\r\n          \r\n            <div class=\"site\">\r\n\r\n                <div class=\"logo\">\r\n                  ${removeX(node.url)[0].toUpperCase()}\r\n                </div>\r\n                <div class=\"link\">${removeX(node.url)}</div>\r\n                <div class = \"close\">\r\n                <svg class=\"icon\" >\r\n                        <use xlink:href=\"#icon-baseline-close-px\"></use>\r\n                    </svg>\r\n                </div>\r\n            </div>\r\n        </li>`\r\n    ).insertBefore($lastLi);\r\n\r\n    $li.on(\"click\", () => {\r\n      window.open(node.url);\r\n    });\r\n    $li.on(\"click\", \".close\", (e) => {\r\n      console.log(\"click x ok\");\r\n      e.stopPropagation(); //阻止冒泡\r\n      hashMap.splice(index, 1);\r\n      hashx();\r\n    });\r\n  });\r\n};\r\n\r\nhashx();\r\n\r\n$(\".addButton\").on(\"click\", () => {\r\n  let url = window.prompt(\"请输入需要添加的网址\");\r\n  if (url.indexOf(\"https\") !== 0) {\r\n    url = \"https://\" + url;\r\n  }\r\n  hashMap.push({\r\n    logo: url[0],\r\n    logoType: \"text\",\r\n    url: url,\r\n  });\r\n\r\n  hashx();\r\n});\r\n\r\nwindow.onbeforeunload = () => {\r\n  const string = JSON.stringify(hashMap);\r\n  localStorage.setItem(\"x\", string);\r\n};\r\n\r\n$(document).on(\"keypress\", (e) => {\r\n  const { key } = e;\r\n  for (let i = 0; i < hashMap.length; i++) {\r\n    console.log(removeX(hashMap[i].url)[0]);\r\n    if (removeX(hashMap[i].url)[0].toLowerCase() === key) {\r\n      window.open(hashMap[i].url);\r\n    }\r\n  }\r\n});\r\n"]}